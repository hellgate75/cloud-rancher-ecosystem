{"system":false,"type":"stack","startOnCreate":true,"name":"microservices-pipeline","description":"Micro-Services Pipeline","dockerCompose":"sonarqubedbvolumes:\n  image: builditftorelli/postgresql-ansible:9.6.2\n  entrypoint: ['/bin/bash']\n  command: ['/bin/bash']\nsonarqubedb:\n  labels:\n    io.rancher.sidekicks: sonarqubedbvolumes\n  image: builditftorelli/postgresql-ansible:9.6.2\n  container_name: sonardb-ansible-compose\n  restart: unless-stopped\n  tty: true\n  stdin_open: true\n  hostname: sonar-db.riglet\n  environment:\n    - MAIN_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/digitalrig-riglet.git\n    - MAIN_REPO_BRANCH=microservices-poc-rancher\n    - MAIN_REPO_FOLDER=ec2\n    - ROLES_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/dr-scripts.git\n    - ROLES_REPO_BRANCH=microservices-poc-rancher\n    - ROLES_REPO_FOLDER=roles\n    - PLAYBOOKS=../postgresql\n    - USER_NAME=fabriziotorelli\n    - USER_EMAIL=fabrizio.torelli@wipro.com\n    - ANSIBLE_HOSTNAME=postgres\n    - HOSTNAME=sonar-db\n    - RIGLETDOMAIN=riglet\n    - PRESTART_POSTGRES=true\n    - POSTGRES_PASSWORD=4n4lys1s\n    - POSTGRES_USER=sonarqube\n    - POSTGRES_DB=sonarqube\n    - POSTGRES_OS_USER=\n    - POSTGRES_OS_GROUP=\n    - PRIVATE_PUBLIC_KEY_TAR_URL=https://github.com/hellgate75/online-keys/raw/master/20170311/postgres/keys.tar\n  ports:\n    - 5432:5432\n  volumes_from:\n    - sonarqubedbvolumes\nsonarqubevolumes:\n  image: builditftorelli/sonarqube-ansible:6.2\n  entrypoint: ['/bin/bash']\n  command: ['/bin/bash']\nsonarqube:\n  labels:\n    io.rancher.sidekicks: sonarqubevolumes\n  links:\n    - sonarqubedb:sonar-db.riglet\n  image: builditftorelli/sonarqube-ansible:6.2\n  container_name: sonarqube-ansible-compose\n  restart: unless-stopped\n  tty: true\n  stdin_open: true\n  hostname: sonar.riglet\n  environment:\n    - MAIN_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/digitalrig-riglet.git\n    - MAIN_REPO_BRANCH=microservices-poc-rancher\n    - MAIN_REPO_FOLDER=ec2\n    - ROLES_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/dr-scripts.git\n    - ROLES_REPO_BRANCH=microservices-poc-rancher\n    - ROLES_REPO_FOLDER=roles\n    - PLAYBOOKS=../sonar\n    - USER_NAME=fabriziotorelli\n    - USER_EMAIL=fabrizio.torelli@wipro.com\n    - USER_CREDENTIALS=\n    - ANSIBLE_HOSTNAME=sonar\n    - HOSTNAME=sonar\n    - RIGLETDOMAIN=riglet\n    - PRESTART_SONARQUBE=false\n    - POSTSTART_SONARQUBE=false\n    - SONARQUBE_JDBC_USERNAME=sonarqube\n    - SONARQUBE_JDBC_PASSWORD=4n4lys1s\n    - SONARQUBE_JDBC_URL=jdbc:postgresql://sonar-db.riglet:5432/sonarqube\n    - SONARQUBE_WEB_JVM_OPTS=\n    - SONARQUBE_ANSIBLE_DEFINED_CONTEXT_PATH=/sonar\n    - RESTART_SONARQUBE_AFTER_ANSIBLE=true\n    - PRIVATE_PUBLIC_KEY_TAR_URL=https://github.com/hellgate75/online-keys/raw/master/20170311/sonarqube/keys.tar\n  ports:\n    - 9000:9000\n    - 9092:9092\n  volumes_from:\n    - sonarqubevolumes\nnexusvolumes:\n  image: builditftorelli/nexus-ansible:oss\n  entrypoint: ['/bin/bash']\n  command: ['/bin/bash']\nnexus:\n  labels:\n    io.rancher.sidekicks: nexusvolumes\n  image: builditftorelli/nexus-ansible:oss\n  container_name: nexus-ansible-compose\n  restart: unless-stopped\n  tty: true\n  stdin_open: true\n  hostname: nexus.riglet\n  environment:\n    - MAIN_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/digitalrig-riglet.git\n    - MAIN_REPO_BRANCH=microservices-poc-rancher\n    - MAIN_REPO_FOLDER=ec2\n    - ROLES_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/dr-scripts.git\n    - ROLES_REPO_BRANCH=microservices-poc-rancher\n    - ROLES_REPO_FOLDER=roles\n    - PLAYBOOKS=../nexus\n    - USER_NAME=fabriziotorelli\n    - USER_EMAIL=fabrizio.torelli@wipro.com\n    - USER_CREDENTIALS=\n    - ANSIBLE_HOSTNAME=nexus\n    - HOSTNAME=nexus\n    - RIGLETDOMAIN=riglet\n    - PRESTART_NEXUS=false\n    - POSTSTART_NEXUS=false\n    - RESTART_NEXUS_AFTER_ANSIBLE=true\n    - PRIVATE_PUBLIC_KEY_TAR_URL=https://github.com/hellgate75/online-keys/raw/master/20170311/nexus/keys.tar\n  ports:\n    - 8081:8081\n  volumes_from:\n    - nexusvolumes\njenkinsvolumes:\n  image: builditftorelli/jenkins-ansible:2.32.3\n  entrypoint: ['/bin/bash']\n  command: ['/bin/bash']\njenkins:\n  labels:\n    io.rancher.sidekicks: jenkinsvolumes\n  links:\n    - sonarqube:sonar.riglet\n    - nexus:nexus.riglet\n  image: builditftorelli/jenkins-ansible:2.32.3\n  privileged: true\n  container_name: jenkins-ansible-compose\n  restart: unless-stopped\n  tty: true\n  stdin_open: true\n  hostname: jenkins.riglet\n  environment:\n    - MAIN_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/digitalrig-riglet.git\n    - MAIN_REPO_BRANCH=microservices-poc-rancher\n    - MAIN_REPO_FOLDER=ec2\n    - ROLES_REPO_URL=git@bitbucket.org:digitalrigbitbucketteam/dr-scripts.git\n    - ROLES_REPO_BRANCH=microservices-poc-rancher\n    - ROLES_REPO_FOLDER=roles\n    - PLAYBOOKS=../jenkins,microservices,microservices-recreate\n    - USER_NAME=fabriziotorelli\n    - USER_EMAIL=fabrizio.torelli@wipro.com\n    - USER_CREDENTIALS=\n    - ANSIBLE_HOSTNAME=jenkins\n    - HOSTNAME=jenkins\n    - RIGLETDOMAIN=riglet\n    - PRESTART_JENKINS=false\n    - RESTART_JENKINS_AFTER_ANSIBLE=false\n    - PRIVATE_PUBLIC_KEY_TAR_URL=https://github.com/hellgate75/online-keys/raw/master/20170311/jenkins/keys.tar\n    - PLUGINS_TEXT_FILE_URL=\n  ports:\n    - 8080:8080\n    - 50000:50000\n  volumes_from:\n    - jenkinsvolumes","rancherCompose":".catalog:\n  name: \"BuildIt - Dublin Architecture Department Microservices POC Pipeline\"\n  version: \"v1\"\n  description: \"This is a Sampler Microservices Pipeline, Defining some pipelines in the CI infrastructured including Jenkins, Nexus and Sonar.\"\n  uuid: buildit-microservices-pipeline-1\nsonarqubedb:\n  scale: 1\n\nsonarqube:\n  scale: 1\n  health_check:\n    port: 9000\n    interval: 20000\n    unhealthy_threshold: 180\n    healthy_threshold: 2\n    response_timeout: 5000\n    request_line: 'GET \"/sonar\" \"HTTP/1.0\"'\nnexus:\n  scale: 1\n  health_check:\n    port: 8081\n    interval: 20000\n    unhealthy_threshold: 180\n    healthy_threshold: 2\n    response_timeout: 5000\n    request_line: 'GET \"/nexus/service/local/status\" \"HTTP/1.0\"'\njenkins:\n  scale: 1\n  health_check:\n    port: 8080\n    interval: 20000\n    unhealthy_threshold: 360\n    healthy_threshold: 2\n    response_timeout: 5000\n    request_line: 'GET \"/\" \"HTTP/1.0\"'","created":null,"externalId":"","group":null,"healthState":null,"kind":null,"removed":null,"uuid":null,"previousExternalId":null}
